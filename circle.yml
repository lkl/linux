## Customize dependencies
dependencies:
  pre:
    - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
    - wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key|sudo apt-key add -
    - echo "deb http://llvm.org/apt/precise/ llvm-toolchain-precise main" > /tmp/a && sudo mv /tmp/a /etc/apt/sources.list.d/llvm-precise.list
    - sudo apt-get update
    - sudo apt-get install -qy clang-3.8
    - sudo apt-get install bc libfuse-dev libarchive-dev xfsprogs
  post:
    - make defconfig ARCH=lkl CC=clang-3.8 HOSTCC=clang-3.8
    - make ARCH=lkl -j8 CC=clang-3.8 HOSTCC=clang-3.8

test:
  override:
    - cd tools/lkl && make -j8 CC=clang-3.8 HOSTCC=clang-3.8
    - cd tools/lkl && make test CC=clang-3.8 HOSTCC=clang-3.8
